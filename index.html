<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>2026í•™ë…„ë„ í•™ì‚¬ì¼ì •</title>
  <style>
    :root{
      --bg:#ffffff; --panel:#ffffff; --text:#111827; --muted:#6b7280; --line:#d1d5db;
      --accent:#2563eb;
      --cellBg:#ffffff; --cellAlt:#fafafa; --barBg:#eef2ff;
      --shadow: 0 10px 30px rgba(15,23,42,.08);
      --today:#BDC0C0;

      --fs-h1:18px; --fs-ui:12px; --fs-dow:12px; --fs-day:11px; --fs-bar:11px; --fs-mini:11px;
      --pad-wrap:14px; --pad-card:14px;
      --cell-minh:112px; --cell-pad:10px;
      --bar-top:34px; --bar-row-h:30px; --bar-h:24px; --bar-gap:6px;
    }
    @media (max-width: 600px){
      :root{
        --fs-h1:16px; --fs-ui:11px; --fs-dow:10px; --fs-day:10px; --fs-bar:10px; --fs-mini:10px;
        --pad-wrap:8px; --pad-card:8px;
        --cell-minh:70px; --cell-pad:6px;
        --bar-top:26px; --bar-row-h:22px; --bar-h:18px; --bar-gap:4px;
      }
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    header{position: static; background: var(--bg); border-bottom:1px solid var(--line);}
    .wrap{max-width:1200px; margin:0 auto; padding:var(--pad-wrap);}
    h1{margin:0; font-size:var(--fs-h1); letter-spacing:-.3px;}

    .toolbar{display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:wrap; margin-top:8px;}
    .controls{display:flex; gap:8px; flex-wrap:wrap; align-items:center}

    .btn{
      border:1px solid var(--line);
      background: transparent;
      color:var(--text);
      padding:7px 9px;
      border-radius:10px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      user-select:none;
      font-size: var(--fs-ui);
      white-space:nowrap;
    }
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      border-color: color-mix(in oklab, var(--accent) 55%, var(--line));
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 12%, transparent) inset;
    }

    .input, select{
      border:1px solid var(--line);
      background: transparent;
      color:var(--text);
      padding:7px 9px;
      border-radius:10px;
      outline:none;
      font-size: var(--fs-ui);
      max-width: 320px;
    }
    .input::placeholder{color:var(--muted)}
    option{color:#111827}

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:10px;
      padding:var(--pad-wrap);
    }
    @media (max-width: 980px){ .grid{grid-template-columns:1fr} }

    .card{
      background: var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      overflow: visible;
      box-shadow: var(--shadow);
    }

    .monthbar{
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      padding:10px 12px; border-bottom:1px solid var(--line); flex-wrap:wrap;
    }
    .monthbar .m{font-weight:800; letter-spacing:-.3px; font-size: var(--fs-ui);}

    .calendar{padding:var(--pad-card);}

    .dow{
      display:grid; grid-template-columns: repeat(7, 1fr);
      border:1px solid var(--line); border-bottom:0;
      border-radius:12px 12px 0 0; overflow:hidden;
    }
    .dow div{
      padding:6px 6px;
      font-size: var(--fs-dow);
      color:var(--muted);
      border-right:1px solid var(--line);
      background: var(--cellAlt);
      text-align:left;
    }
    .dow div:last-child{border-right:0}

    .weeks{
      border:1px solid var(--line); border-top:0;
      border-radius:0 0 12px 12px; overflow:hidden;
    }

    .week{
      position:relative;
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      border-top:1px solid var(--line);
      background: var(--cellBg);
      --bar-rows: 0;
    }
    .week:first-child{border-top:0}

    .cell{
      position:relative;
      min-height:var(--cell-minh);
      padding: var(--cell-pad);
      padding-top: calc(var(--cell-pad) + 18px + (var(--bar-rows) * var(--bar-row-h)));
      border-right:1px solid var(--line);
      background: var(--cellBg);
      overflow:hidden;
    }
    .cell:nth-child(odd){background: var(--cellAlt)}
    .cell:last-child{border-right:0}
    .cell.muted{opacity:.45}

    .cell.today{
      background: var(--today) !important;
      box-shadow: inset 0 0 0 2px rgba(17,24,39,.20);
    }

    .cellTop{
      position:absolute;
      top: 4px;
      left: var(--cell-pad);
      right: var(--cell-pad);
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size: var(--fs-day);
      color:var(--muted);
      pointer-events:none;
    }
    .cellTop .dayNum{font-weight:800; color:#111827;}
    .cell.muted .cellTop .dayNum{color:#6b7280;}

    .cellList{display:flex; flex-direction:column; gap:4px; min-width:0}

    .mini{
      display:flex; align-items:center; gap:6px; min-width:0;
      padding:4px 6px;
      border-radius:9px;
      border:1px solid color-mix(in oklab, var(--line) 70%, transparent);
      background: color-mix(in oklab, var(--barBg) 55%, transparent);
      font-size: var(--fs-mini);
      overflow:hidden; white-space:nowrap;
      line-height: 1.1;
    }
    .mini .dot{width:7px; height:7px; border-radius:50%; background: var(--accent);}
    .mini .t{min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; color:var(--text); font-weight:600;}

    .bars{
      position:absolute;
      left:0; right:0;
      top: var(--bar-top);
      padding:0 var(--cell-pad);
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      grid-auto-rows: var(--bar-h);
      row-gap: var(--bar-gap);
      pointer-events:none;
      z-index:2;
    }
    .bar{
      height:var(--bar-h);
      border-radius:999px;
      border:1px solid color-mix(in oklab, var(--line) 70%, transparent);
      background: color-mix(in oklab, var(--barBg) 60%, transparent);
      display:flex; align-items:center; gap:6px;
      padding:0 8px;
      overflow:hidden; white-space:nowrap;
      pointer-events:auto;
      z-index:3;
      min-width:0;
      margin:0 1px;
      line-height: 1;
    }
    .bar .dot{width:8px; height:8px; border-radius:50%; background: var(--accent);}
    .bar .txt{min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; font-size: var(--fs-bar); font-weight:800; color:var(--text);}

    .side h2{margin:0; font-size:14px; padding:10px 12px 0 12px; letter-spacing:-.2px;}
    .side .hint{padding:6px 12px 10px 12px; margin:0; color:var(--muted); font-size:11px}
    .list{padding:10px 12px 12px 12px; display:flex; flex-direction:column; gap:8px}

    .item{
      border:1px solid var(--line);
      border-radius:14px;
      padding:10px;
      background: var(--cellAlt);
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .item .left{min-width:0}
    .item .row1{font-weight:800; letter-spacing:-.2px; word-break:keep-all; font-size: 12px;}
    @media (max-width:600px){ .item .row1{font-size:11px;} }

    @media print{ header, .toolbar {display:none !important} }
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="title"><div><h1>2026í•™ë…„ë„ í•™ì‚¬ì¼ì •</h1></div></div>

    <div class="toolbar">
      <div class="controls">
        <button class="btn" id="prevBtn" title="ì´ì „ ë‹¬ (â†)">â—€ï¸ ì´ì „</button>
        <button class="btn" id="todayBtn" title="ì˜¤ëŠ˜ë¡œ ì´ë™">â— <span id="todayLabel">ì˜¤ëŠ˜</span></button>
        <button class="btn" id="nextBtn" title="ë‹¤ìŒ ë‹¬ (â†’)">ë‹¤ìŒ â–¶ï¸</button>

        <select id="monthSelect" title="ì›” ì„ íƒ"></select>
        <input id="q" class="input" placeholder="ê²€ìƒ‰: ì˜ˆ) 3.3 | ê°œí•™ì‹ / 1êµì‹œ" />
      </div>

      <div class="controls">
        <button class="btn primary" id="printBtn" title="ì¸ì‡„/ì €ì¥">ğŸ–¨ ì¸ì‡„</button>
      </div>
    </div>
  </div>
</header>

<main>
  <div class="wrap">
    <div class="grid">
      <section class="card">
        <div class="monthbar">
          <div class="m" id="monthTitle">2026.03</div>
          <div style="color:var(--muted); font-size:11px;">â† â†’</div>
        </div>

        <div class="calendar">
          <div class="dow" id="dow"></div>
          <div class="weeks" id="weeks"></div>
        </div>
      </section>

      <aside class="card side">
        <h2>ì¼ì • ëª©ë¡</h2>
        <p class="hint">í‘œì‹œ í˜•ì‹: <b>ì›”.ì¼ | ì´ë¦„/ì„¤ëª…</b></p>
        <div class="list" id="list"></div>
      </aside>
    </div>
  </div>
</main>

<script>
/* âœ… ìš”ì²­ëŒ€ë¡œ: ê¸°ì¡´ ì¼ì • ì „ë¶€ ì‚­ì œí•˜ê³  ì•„ë˜ë§Œ ë°˜ì˜ */
const EVENTS = [
  { date:"2026-03-01", title:"ì‚¼ì¼ì ˆ", note:"" },
  { date:"2026-03-02", title:"ì‚¼ì¼ì ˆ ëŒ€ì²´ê³µíœ´ì¼", note:"" },
  { date:"2026-03-03", title:"ê°œí•™ì‹", note:"1êµì‹œ" },
  { date:"2026-03-03", title:"ì…í•™ì‹", note:"3êµì‹œ" },

  { date:"2026-05-05", title:"ì–´ë¦°ì´ë‚ ", note:"" },
  { date:"2026-05-06", title:"ê°œêµê¸°ë…ì¼", note:"" },
  { date:"2026-05-24", title:"ë¶€ì²˜ë‹˜ ì˜¤ì‹ ë‚ ", note:"" },
  { date:"2026-05-25", title:"ë¶€ì²˜ë‹˜ ì˜¤ì‹ ë‚  ëŒ€ì²´ê³µíœ´ì¼", note:"" },

  { date:"2026-06-03", title:"ì œ 9íšŒ ì „êµ­ë™ì‹œì§€ë°©ì„ ê±°", note:"" },
  { date:"2026-06-06", title:"í˜„ì¶©ì¼", note:"" },

  { date:"2026-07-17", title:"ì œí—Œì ˆ", note:"" },

  { date:"2026-08-15", title:"ê´‘ë³µì ˆ", note:"" },
  { date:"2026-08-17", title:"ê´‘ë³µì ˆ ëŒ€ì²´ê³µíœ´ì¼", note:"" },

  { date:"2026-10-03", title:"ê°œì²œì ˆ", note:"" },
  { date:"2026-10-05", title:"ê°œì²œì ˆ ëŒ€ì²´ê³µíœ´ì¼", note:"" },
  { date:"2026-10-09", title:"í•œê¸€ë‚ ", note:"" },

  { date:"2026-12-25", title:"í¬ë¦¬ìŠ¤ë§ˆìŠ¤", note:"" },
];

/* 2026í•™ë…„ë„(í•„ìš”í•˜ë©´ ë²”ìœ„ë§Œ ì¡°ì •) */
const START_MONTH = "2026-03-01";
const END_MONTH   = "2027-02-01";

const DOW = ["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "];

function pad2(n){ return String(n).padStart(2,"0"); }
function toISODate(d){ return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`; }
function parseISO(iso){ const [y,m,d]=iso.split("-").map(Number); return new Date(y, m-1, d); }
function ymKey(d){ return `${d.getFullYear()}-${pad2(d.getMonth()+1)}`; }
function formatYM(d){ return `${d.getFullYear()}.${pad2(d.getMonth()+1)}`; }
function formatMD(iso){ const [_,m,d]=iso.split("-").map(Number); return `${m}.${d}`; }
function normalized(s){ return (s||"").toLowerCase().trim(); }
function escapeHtml(s){
  return String(s||"").replace(/[&<>"']/g, (m)=>({
    "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
  })[m]);
}
function clampDateToRange(d){
  const min = new Date(START_MONTH);
  const max = new Date(END_MONTH);
  if(d < min) return min;
  if(d > max) return max;
  return d;
}
function addDays(dateObj, n){ const d=new Date(dateObj); d.setDate(d.getDate()+n); return d; }
function weekStartOf(dateObj){
  const d=new Date(dateObj);
  const dow=d.getDay();
  d.setDate(d.getDate()-dow);
  d.setHours(0,0,0,0);
  return d;
}

let state = {
  cursor: new Date(START_MONTH),
  q: "",
  month: ymKey(new Date(START_MONTH)),
};

const els = {
  monthTitle: document.getElementById("monthTitle"),
  dow: document.getElementById("dow"),
  weeks: document.getElementById("weeks"),
  list: document.getElementById("list"),
  monthSelect: document.getElementById("monthSelect"),
  q: document.getElementById("q"),
  todayLabel: document.getElementById("todayLabel"),
};

/* âœ… ì ‘ì†í•œ ì˜¤ëŠ˜ 1ì¹¸ë§Œ ìƒ‰ì¹  */
const VISIT_TODAY_ISO = toISODate(new Date());

function buildMonthOptions(){
  const start = new Date(START_MONTH);
  const end = new Date(END_MONTH);
  const opts = [{value:"ALL", label:"ì „ì²´"}];
  const d = new Date(start); d.setDate(1);
  while(d <= end){
    opts.push({ value: ymKey(d), label: formatYM(d) });
    d.setMonth(d.getMonth()+1);
  }
  els.monthSelect.innerHTML = opts.map(o=>`<option value="${o.value}">${o.label}</option>`).join("");
}

function getFilteredEvents(){
  const q = normalized(state.q);
  return EVENTS.slice()
    .sort((a,b)=> a.date.localeCompare(b.date))
    .filter(e => {
      if(!q) return true;
      const md = formatMD(e.date);
      const hay = [e.date, md, e.title, e.note].join(" ").toLowerCase();
      return hay.includes(q);
    });
}

function eventsForList(){
  const all = getFilteredEvents();
  if(state.month === "ALL") return all;
  return all.filter(e => (e.date||"").startsWith(state.month));
}

function singleEventsOnDate(iso){
  const all = getFilteredEvents();
  if(state.month !== "ALL" && !iso.startsWith(state.month)) return [];
  return all.filter(e=> e.date === iso);
}

function renderDOW(){
  els.dow.innerHTML = DOW.map(x=>`<div>${x}</div>`).join("");
}

function renderCalendar(){
  let cur;
  if(state.month === "ALL"){
    cur = new Date(state.cursor); cur.setDate(1);
  } else {
    const [y,m] = state.month.split("-").map(Number);
    cur = new Date(y, m-1, 1);
    state.cursor = cur;
  }

  els.monthTitle.textContent = (state.month === "ALL")
    ? `${formatYM(cur)} (ì „ì²´)`
    : formatYM(cur);

  els.monthSelect.value = state.month;

  const gridStart = weekStartOf(new Date(cur));

  const weeksHtml = [];
  for(let w=0; w<6; w++){
    const ws = addDays(gridStart, w*7);

    let cellsHtml = ``;
    for(let c=0;c<7;c++){
      const d = addDays(ws, c);
      const iso = toISODate(d);
      const inMonth = d.getMonth() === cur.getMonth();
      const singles = singleEventsOnDate(iso);

      const miniItems = singles.slice(0,2).map(ev => {
        const line = ev.note ? `${ev.title} / ${ev.note}` : ev.title;
        return `
          <div class="mini" title="${escapeHtml(line)}">
            <span class="dot"></span>
            <span class="t">${escapeHtml(line)}</span>
          </div>
        `;
      }).join("");

      const isVisitToday = (iso === VISIT_TODAY_ISO);

      cellsHtml += `
        <div class="cell ${inMonth ? "" : "muted"} ${isVisitToday ? "today" : ""}" data-date="${iso}">
          <div class="cellTop"><span class="dayNum">${d.getDate()}</span><span></span></div>
          <div class="cellList">${miniItems}</div>
        </div>
      `;
    }

    /* ê¸°ê°„ ì¼ì • ë¦¬ë³¸ ì—†ìœ¼ë¯€ë¡œ bar-rows=0 ê³ ì • */
    weeksHtml.push(`<div class="week" style="--bar-rows:0;">${cellsHtml}</div>`);
  }

  els.weeks.innerHTML = weeksHtml.join("");
}

function renderList(){
  const list = eventsForList();
  if(list.length === 0){
    els.list.innerHTML = `<div style="color:var(--muted); padding:6px 2px; font-size:11px;">í‘œì‹œí•  ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
    return;
  }
  els.list.innerHTML = list.map(e=>{
    const line = e.note ? `${e.title} / ${e.note}` : e.title;
    return `
      <div class="item">
        <div class="left">
          <div class="row1">${escapeHtml(formatMD(e.date))} | ${escapeHtml(line)}</div>
        </div>
      </div>
    `;
  }).join("");
}

function render(){
  renderCalendar();
  renderList();
}

function moveMonth(delta){
  const d = new Date(state.cursor);
  d.setMonth(d.getMonth()+delta);
  d.setDate(1);
  state.cursor = clampDateToRange(d);
  if(state.month !== "ALL"){
    state.month = ymKey(state.cursor);
    els.monthSelect.value = state.month;
  }
  render();
}

/* init */
renderDOW();
buildMonthOptions();
els.todayLabel.textContent = VISIT_TODAY_ISO;

state.cursor = clampDateToRange(new Date());
state.month = ymKey(state.cursor);
els.monthSelect.value = state.month;

/* bind */
document.getElementById("prevBtn").addEventListener("click", ()=>moveMonth(-1));
document.getElementById("nextBtn").addEventListener("click", ()=>moveMonth(+1));
document.getElementById("todayBtn").addEventListener("click", ()=>{
  state.cursor = clampDateToRange(new Date());
  if(state.month !== "ALL") state.month = ymKey(state.cursor);
  render();
});
els.monthSelect.addEventListener("change", (e)=>{
  state.month = e.target.value;
  if(state.month !== "ALL"){
    const [y,m] = state.month.split("-").map(Number);
    state.cursor = clampDateToRange(new Date(y, m-1, 1));
  }
  render();
});
els.q.addEventListener("input", (e)=>{ state.q = e.target.value; render(); });
document.getElementById("printBtn").addEventListener("click", ()=>window.print());

window.addEventListener("keydown", (e)=>{
  if(e.key==="ArrowLeft") moveMonth(-1);
  if(e.key==="ArrowRight") moveMonth(+1);
});

render();
</script>
</body>
</html>
